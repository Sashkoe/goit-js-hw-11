{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImages(q) {         \n    const params = new URLSearchParams({\n      key: '43953718-9ce06f0736fa41b18ed1e7ce5',\n      q,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',     \n    });\n  \n    return fetch(`https://pixabay.com/api/?${params}`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      });\n  }","export function addImage(image) {\n    const neccesaryArray = image.hits;\n    return neccesaryArray\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n          <li class=\"card\">\n              <div class=\"place-for-image\">\n                  <a href=\"${largeImageURL}\">\n                      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"picture\"/>\n                  </a>\n              </div>\n              <div class=\"info-text\">\n                  <div class=\"description\">\n                      <span class=\"bold-text\">Likes</span>\n                      <span class=\"info-value\">${likes}</span>\n                  </div>\n                  <div class=\"description\">\n                      <span class=\"bold-text\">Views</span>\n                      <span class=\"info-value\">${views}</span>\n                  </div>\n                  <div class=\"description\">\n                      <span class=\"bold-text\">Comments</span>\n                      <span class=\"info-value\">${comments}</span>\n                  </div>\n                  <div class=\"description\">\n                      <span class=\"bold-text\">Downloads</span>\n                      <span class=\"info-value\">${downloads}</span>\n                  </div>\n              </div>\n          </li>`\n      )\n      .join('');\n  }","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { searchImages } from './js/pixabay-api.js';\nimport { addImage } from './js/render-functions.js';\n\nconst loader = document.querySelector('.loader');\nconst form = document.getElementById('searchForm');\nconst galleryElement = document.querySelector('.gallery');\n\nconst lightbox = new SimpleLightbox('.card .place-for-image a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction toggleLoader(display) {\n  loader.style.display = display;\n}\n\nloader.style.display = 'none';\n\nform.addEventListener('submit', search);\n\nasync function search(e) {\n  e.preventDefault();\n\n  galleryElement.innerHTML = '';\n\n  const input = e.currentTarget.elements.searchInput.value;\n\n  toggleLoader('block');\n\n  searchImages(input)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.warning({\n          title: 'Caution',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n\n        return 0;\n      } else {\n        galleryElement.insertAdjacentHTML('beforeend', addImage(data));\n        lightbox.refresh();\n        e.target.reset();\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: error.message,\n      });\n    })\n    .finally(() => {\n      toggleLoader('none');\n    });\n}"],"names":["searchImages","q","params","response","addImage","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loader","form","galleryElement","lightbox","SimpleLightbox","toggleLoader","display","search","e","input","data","iziToast","error"],"mappings":"wvBAAO,SAASA,EAAaC,EAAG,CAC5B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAM,EAAE,EAC9C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,CACP,CChBO,SAASC,EAASC,EAAO,CAE5B,OADuBA,EAAM,KAE1B,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA;AAAA;AAAA,6BAGeL,CAAa;AAAA,kCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAMXC,CAAK;AAAA;AAAA;AAAA;AAAA,iDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iDAIRC,CAAS;AAAA;AAAA;AAAA,gBAInD,EACA,KAAK,EAAE,CACd,CChCA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAO,SAAS,eAAe,YAAY,EAC3CC,EAAiB,SAAS,cAAc,UAAU,EAElDC,EAAW,IAAIC,EAAe,2BAA4B,CAC9D,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAaC,EAAS,CAC7BN,EAAO,MAAM,QAAUM,CACzB,CAEAN,EAAO,MAAM,QAAU,OAEvBC,EAAK,iBAAiB,SAAUM,CAAM,EAEtC,eAAeA,EAAOC,EAAG,CACvBA,EAAE,eAAc,EAEhBN,EAAe,UAAY,GAE3B,MAAMO,EAAQD,EAAE,cAAc,SAAS,YAAY,MAEnDH,EAAa,OAAO,EAEpBlB,EAAasB,CAAK,EACf,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAU,EACjB,OAAAC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,0EACnB,CAAS,EAEM,EAEPT,EAAe,mBAAmB,YAAaX,EAASmB,CAAI,CAAC,EAC7DP,EAAS,QAAO,EAChBK,EAAE,OAAO,OAEjB,CAAK,EACA,MAAMI,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAASC,EAAM,OACvB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbP,EAAa,MAAM,CACzB,CAAK,CACL"}